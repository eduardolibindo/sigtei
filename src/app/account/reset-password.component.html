<div class="mt-5 login-form text-center">
  <div *ngIf="tokenStatus == TokenStatus.Validating">
    Validando token...
  </div>
  <div *ngIf="tokenStatus == TokenStatus.Invalid">
    A validação do token falhou, se o token expirou, você pode obter um novo na página <a
      routerLink="../forgot-password" style="color: blue;">Esqueceu a senha</a>.
  </div>
  <form *ngIf="tokenStatus == TokenStatus.Valid" [formGroup]="form" (ngSubmit)="onSubmit()"
    class="login-form text-center">
    <h2 class="mb-5 font-weight-light text-uppercase">Redefinir Senha</h2>
    <div class="form-group col">
      <input type="password" formControlName="password" class="form-control" placeholder="Senha"
        class="form-control rounded-pill form-control-lg"
        [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
      <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
        <div *ngIf="f.password.errors.required">Insira a senha</div>
        <div *ngIf="f.password.errors.minlength">A senha deve ter pelo menos 6 caracteres</div>
      </div>
    </div>
    <div class="form-group col">
      <input type="password" formControlName="confirmPassword" class="form-control" placeholder="Confirmar Senha"
        class="form-control rounded-pill form-control-lg"
        [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }" />
      <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
        <div *ngIf="f.confirmPassword.errors.required">É necessário confirmar a senha</div>
        <div *ngIf="f.confirmPassword.errors.mustMatch">As senhas devem corresponder</div>
      </div>
    </div>
    <div class="form-group">
      <button [disabled]="loading" class="btn mt-3 rounded-pill btn-lg btn-submit text-uppercase"  style="margin-top: .25rem; margin-bottom: .25rem; margin: 0 10px;">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Enviar
      </button>
      <button routerLink="../login"
        class="btn mt-3 rounded-pill btn-lg btn-cancel text-uppercase"  style="margin-top: .25rem; margin-bottom: .25rem; margin: 0 10px;">Cancelar</button>
    </div>
  </form>
</div>
